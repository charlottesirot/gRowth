<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title></title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/sandstone.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 61px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 66px;
  margin-top: -66px;
}

.section h2 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h3 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h4 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h5 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h6 {
  padding-top: 66px;
  margin-top: -66px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">elementR</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="about.html">Procedures</a>
</li>
<li>
  <a href="development.html">Future</a>
</li>
<li>
  <a href="https://goo.gl/forms/SSHjEzUydJiVpMOB3">Survey</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">




</div>


<p><img src="LogoFinal.png" width="30%" style="display: block; margin: auto;" /></p>
<div id="procedures-of-elementr" class="section level1">
<h1>Procedures of elementR</h1>
<p><br /></p>
<p>The data reduction proceeded by the elementR package is organized in a session framework including five main steps (indicate on the left side bar of the opened page of the web browser):</p>
<p>The data reduction proceeded by the elementR package is organized in a session framework including five main steps (indicate on the left side bar of the opened page of the web browser):</p>
<ul>
<li>Step 1. The setting of the main parameters of the procedure</li>
<li>Step 2. The filtration of the standards</li>
<li>Step 3. The machine drift verification &amp; correction</li>
<li>Step 4. The filtration of the samples</li>
<li>Step 5. The sample replicate averaging</li>
</ul>
<p>For more details on the procedure, see the <a href="elementR_documentation.pdf">documentation</a>.</p>
<p>Note that these steps have to be carried out in the order mentioned above, the third step, for instance, being not available until the first and second one are validated.</p>
<p>The left side bar allows to navigate between these steps and to know exactly which part of the procedure is currently running, validates or remains to complete.</p>
<p>The two last tabs “Configuration”and “Source code for app” are not part of the data reduction procedure but bring additional information detailed later in this document.</p>
<p><br /></p>
</div>
<div id="data-requirements" class="section level1">
<h1>Data requirements</h1>
<p><br /></p>
<ul>
<li><p>A set of data from standard analysis (at least one). elementR is compatible with all standard types (NIST 612, NIST 610, MACS…). However, standards of a single session must have all the same type (that is the reason we call them standard replicates and that they are stored in a same folder).</p></li>
<li><p>A calibration file providing for each investigated chemical element: <span class="math display">\[Calib_X = \frac{[X]_{calibType}}{[InternStandard]_{calibType}}\]</span> where:<br /> <span class="math inline">\(Calib_X\)</span> is the value to include in the calibration file for the chemical element X <br /> <span class="math inline">\([X]_{calibType}\)</span> is the concentration of the chemical element X contained in the calibration material <br /> <span class="math inline">\([InternStandard]_{calibType}\)</span> is the concentration of the internal standard element contained in the calibration material<br /></p></li>
<li><p>A set of data from sample analysis (at least one, obviously :D). Sample may have one or more replicates, these replicates being averaged in the last step.</p></li>
</ul>
<p><br /></p>
</div>
<div id="format-requirements" class="section level1">
<h1>Format requirements</h1>
<p><br /></p>
<ul>
<li><p>The format of data compatible with the elementR application are those from worksheet from Excel (.xls, .xlsx), LibreOffice (.ods) or text (.csv). <br /> For the text format, the separator used by default is the semi-colon. However, you can change this parameter before uploading your project in the configuration tab. <br /> For any format (except for text format), the decimal has to be indicated by a point (for text format, you can however customize the decimal in the configuration tab before uploading your project). <br /> For Excel format, elementR reads the first worksheet of the file. For OpenOffice format, you have to indicate to elementR the sheet to import by calling the sheet to import “data”. <br /></p></li>
<li><p><strong>Sample and standard</strong> data must be all organized in the same way (fig.1):<br />
In column 1, the time of successive analysis. <br /> In the following columns, the chemical elements with element names as column heads. <br /> All data must contain the same chemical elements in the same order. <br /> Data must contain only numerical characters (except for the names of the columns). <br /> When you upload your data, elementR checks the validity of these points and indicates the problem if any.</p></li>
</ul>
<div class="figure">
<img src="format.jpg" alt="Figure 1: example of data format compatible with elementR application for sample and standard replicate data:  chemical elements in column (in blue) with their name at the top of each column, time of analysis in row (in red). The text included in the cell at the top of the analysis time does not matter.  \label{figureFormat}" width="70%" />
<p class="caption">
Figure 1: example of data format compatible with elementR application for sample and standard replicate data: chemical elements in column (in blue) with their name at the top of each column, time of analysis in row (in red). The text included in the cell at the top of the analysis time does not matter. 
</p>
</div>
<ul>
<li>The file comprising the <strong>calibrations</strong> data must have its own organization (fig. 2): In columns, the chemical elements with their name at the head of each column.<br /> The text in the cells of the first column does not matter.<br /> The data of the calibration file must contain the same chemical elements in the same order than in the standard and sample files.<br /> The data of the calibration file must be normalized (i.e. divided) by the concentration of the internal standard.<br /> Data must contain only numerical characters (except for the first column and the names of the chemical elements).<br /></li>
</ul>
<div class="figure">
<img src="format2.jpg" alt="Figure 2: example of data structure compatible with elementR application for calibration data: chemical elements in column (in blue) with their name at the top of each column. The text included in the cells of the first column does not matter.  \label{figureFormat2}" width="70%" />
<p class="caption">
Figure 2: example of data structure compatible with elementR application for calibration data: chemical elements in column (in blue) with their name at the top of each column. The text included in the cells of the first column does not matter. 
</p>
</div>
<p>Some compatible format of all kind of data are provided with the elementR package, take a look ! (in the folder where R packages are installed, reach the elementR folder and look at the “Example_Session”, you will find the files).</p>
<p><br /></p>
</div>
<div id="data-structure" class="section level1">
<h1>Data structure</h1>
<p><br /></p>
<p>The data must be organized in a session framework (Fig. 3):</p>
<p>All file corresponding to standard replicates must be included in the same folder called “standards” (= batch of standard replicates).<br /> All samples must be included in the same folder called “samples”.<br /> All sample replicates of the same sample (even if there is only a single replicate) must be included in a folder with the name of the considered sample (= a batch of sample replicates).<br /> The “standards” and the “samples” sub-folders have to be included in a folder called with the name of the project.<br /> In any case when you upload your data, elementR checks the validity of these points and indicates the problem if any.<br /></p>
<p>A compatible format of session is provided with the elementR package, have a look ! (in the folder where R packages are installed, reach the elementR folder1 and look at the “Example_Session” organization).</p>
<div class="figure">
<img src="format3.jpg" alt="Figure 3: example of session organization compatible with elementR application: all standards (S1, S2, Sn) are in a “standards” folder (in red), all samples are in a “samples” folder (in green). Each sample replicate R1, R2, Rn (even if there is only a single replicate) must be included in a sub-folder with the name of the sample (in blue). The name of the sample sub-folders and of the standard and sample replicates do not matter.   \label{figureFormat3}" width="70%" />
<p class="caption">
Figure 3: example of session organization compatible with elementR application: all standards (S1, S2, Sn) are in a “standards” folder (in red), all samples are in a “samples” folder (in green). Each sample replicate R1, R2, Rn (even if there is only a single replicate) must be included in a sub-folder with the name of the sample (in blue). The name of the sample sub-folders and of the standard and sample replicates do not matter. 
</p>
</div>
<p><br /></p>
</div>
<div id="installation" class="section level1">
<h1>Installation</h1>
<p><br /></p>
<div id="before-installation" class="section level3">
<h3>Before installation</h3>
<ol style="list-style-type: decimal">
<li><p>Check the version of R installed on your computer (<code>sessionInfo()</code>), must be ≥ 3.2.3, see <a href="https://cran.r-project.org/" class="uri">https://cran.r-project.org/</a> to update your version.</p></li>
<li><p><strong>For Mac users only</strong>: elementR package needs XQuartz. Please check, that XQuartz is installed and runs properly on your computer. If not, please visit <a href="https://www.xquartz.org/" class="uri">https://www.xquartz.org/</a>.</p></li>
</ol>
<p><br /></p>
</div>
<div id="installation-1" class="section level3">
<h3>Installation</h3>
<p>The easiest way to get elementR is to install it from <a href="https://CRAN.R-project.org/package=elementR">CRAN</a>:</p>
<pre><code>install.packages(&quot;elementR&quot;, dependencies = T)
library(elementR)</code></pre>
<p>Alternatively, you can install the development version (not yet pushed on cran) from <a href="https://github.com/charlottesirot/elementR">GitHub</a> :</p>
<pre><code>#Install elementR&#39;s dependencies
pkgs &lt;- c(&quot;gdata&quot;, &quot;shiny&quot;,&quot;devtools&quot;, &quot;shinyjs&quot;, &quot;gnumeric&quot;, &quot;R6&quot;, &quot;shinydashboard&quot;,
    &quot;abind&quot;, &quot;stringr&quot;, &quot;lmtest&quot;, &quot;tcltk&quot;, &quot;tcltk2&quot;, &quot;reader&quot;, &quot;readODS&quot;, &quot;readxl&quot;, &quot;outliers&quot;, &quot;climtrends&quot;,
    &quot;EnvStats&quot;, &quot;colourpicker&quot;, &quot;zoo&quot;, &quot;httpuv&quot;)

invisible(lapply(pkgs, function(pkgs){
    if(!require(pkgs)){
        install.packages(pkgs, dependencies=TRUE)
    }
}))

#Install elementR
devtools::install_github(&quot;charlottesirot/elementR&quot;, ref = &quot;master&quot;, force = T, dependencies = T)

library(elementR)</code></pre>
<p><br /></p>
</div>
<div id="notes-on-installation" class="section level3">
<h3>Notes on installation :</h3>
<p>For Mac users: during installation elementR will ask to install “XCode/otool”. Accept this installation.</p>
<p>If the installation is stuck at the installation of the tcltk package, this probably means that XQuartz does not run properly. Check its validity.</p>
<p>For Linux users: you could need to install additional libraries:</p>
<pre><code>sudo apt-get update
sudo apt-get install libcurl4-openssl-dev
sudo apt-get install libssl-dev
sudo apt-get install libxml2-dev
sudo apt-get install libssh2-1-dev</code></pre>
<p>the elementR GUI runs on any web browser. However, as the graphic of the user interface has been developed based on Firefox, authors highly recommend to run elementR under <a href="https://www.mozilla.org/en-US/firefox/new/">Firefox</a>.</p>
<p><br /></p>
</div>
<div id="usage" class="section level3">
<h3>Usage</h3>
<p>To launch elementR, run the following command in your R console:</p>
<pre><code>runElementR()</code></pre>
<p><br /></p>
</div>
</div>
<div id="and-if-there-is-a-bug" class="section level1">
<h1>And if there is a bug?</h1>
<p><br /></p>
<p>If, despite the <code>❤️</code> brought during the programming of this R package and writing of this documentation, you have difficulties to install or run elementR, if you have questions about the procedures or calculations, or if you want to report bugs :beetle:, do not hesitate to consult the official elementR documentation above or on <a href="https://CRAN.R-project.org/package=elementR">CRAN</a> or connect with us on <a href="https://github.com/charlottesirot/elementR">GitHub</a>.</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
